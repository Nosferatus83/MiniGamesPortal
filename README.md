# Retro Games Collection

Коллекция ретро-игр, реализованных на React и TypeScript.

## Игры

В проекте реализованы следующие классические игры:

- Arkanoid
- Fifteen (Пятнашки)
- Pacman
- Snake (Змейка)

## Технологии

Для разработки проекта использовались следующие технологии:

- React
- TypeScript
- Tailwind CSS
- React Router

## Как запустить

Для запуска проекта выполните следующие команды:

1. Установите зависимости:

   ```bash
   npm install
   ```

2. Запустите проект в режиме разработки:
   ```bash
   npm start
   ```

Проект будет доступен по адресу `http://localhost:3000`.

## Сборка проекта в Docker-образ

Для сборки производственного Docker-образа выполните следующую команду:

```bash
docker build -f Dockerfile.prod -t retro-games:latest .
```

Эта команда создаст Docker-образ с тегом `retro-games:latest`, используя многоступенчатый процесс сборки, определенный в файле `Dockerfile.prod`. В результате получится оптимизированный образ с готовым к работе веб-приложением.

## Развертывание на production

Для запуска приложения в производственной среде с использованием Docker-контейнера выполните следующую команду:

```bash
docker-compose -f docker-compose.prod.yml up -d
```

Эта команда запустит приложение в фоновом режиме, используя конфигурацию из файла `docker-compose.prod.yml`. Приложение будет доступно по адресу `http://localhost:8080`.

## Особенности сборки и развертывания

### Использование `NODE_OPTIONS=--openssl-legacy-provider`

При использовании Node.js версии 18 и выше для сборки проекта может возникнуть ошибка, связанная с устаревшим криптографическим провайдером OpenSSL. Чтобы избежать этой проблемы, необходимо установить переменную окружения `NODE_OPTIONS=--openssl-legacy-provider`. Это особенно важно при сборке Docker-образа, как указано в `Dockerfile.prod`.

### Работа с Tailwind CSS в производственной сборке

Tailwind CSS в процессе сборки для production удаляет неиспользуемые классы для оптимизации размера CSS-файла. Это может привести к проблемам, если классы генерируются динамически (например, `className={\`bg-\${color}-500\``).

Чтобы избежать случайного удаления нужных стилей, рекомендуется:

1.  **Использовать статическое сопоставление классов**: Вместо динамической генерации создайте объект или функцию, которая сопоставляет значения с конкретными классами Tailwind.
2.  **Добавлять классы в `safelist`**: Если динамическая генерация необходима, добавьте шаблоны или полные имена классов в массив `safelist` в файле `tailwind.config.js`. Это гарантирует, что Tailwind не удалит их.
